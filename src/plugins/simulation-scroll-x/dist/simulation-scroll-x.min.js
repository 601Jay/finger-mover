/*!
 * simulation-scroll-x.min.js v1.2.0
 * (c) 2017 HcySunYang
 * Released under the MIT License.
 */!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.simulationScrollX=t()}(this,function(){"use strict";return function(n){return function(t){function e(n,t){if(b)return void s(b,"width: "+t+"px;");b=document.createElement("span"),s(b,"\n                position: absolute;\n                z-index: 10000000;\n                left:0;\n                bottom: 3px;\n                height: 3px; \n                width: "+t+"px; \n                background-color: #000;\n                opacity: 0;\n                border-radius: 1.5px;\n                transition: opacity .2s;\n                -webkit-transition: opacity .2s;\n            "),"static"===a(n,"position")&&s(n,"position: relative;"),n.appendChild(b)}function o(n){var t=n,e=0;t<X?(e=4*(X-t),e>M-x&&(e=M-x),t=X):t>T&&(e=4*(t-T),e>M-x&&(e=M-x),t=T+e);var o=M-e;b.style.width=o+"px",w.transform(b,"translateX",t)}var r=t.Moved,a=t.getStyle,i=t.extend,s=t.cssText,c=t.getRelativeRect,l=t.isInElement,u=t.throwError,f=function(){},d=i({scrollBar:!0,bounce:!0,onTouchMove:f,onTransMove:f,onTransMoveEnd:f},n),p=null,m=null,g=0,h=0,v=0,b=null,M=0,x=7,y=0,S=0,X=0,T=0,w=new r,k=0,B=0,E=0,O="easeOutStrong",I=0,z=!1,C=!1;return{init:function(n){p=n.el,m=p.parentNode,"static"===a(p,"position")&&s(p,"position: relative; z-index: 10;"),this.refreshSize()},start:function(n){n.fingers[0];O="easeOutStrong",z=!1,C=!1,w.stop(function(n){k=n.translateX})},move:function(n){if("start"===w.moveStatus)return!1;var t=n.fingers[0],e=t.fingerInElement;if(B=k+t.distanceX,!e)return C||(C=!0,this.makeMove(t)),!1;B>y||S>0?B=d.bounce?.5*B:y:B<S&&(B=d.bounce?S+.5*(B-S):S),w.transform(t.el,"translateX",B),d.scrollBar&&(s(b,"opacity: .4;"),o(-B*v)),d.onTouchMove.call(this,n)},end:function(n){var t=n.fingers[0],e=n.changeFingerIndex,o=n.fingerNumber,r=t.fingerInElement;0===e&&0===o&&r&&this.makeMove(t)},cancel:function(n){var t=n.fingers[0],e=n.changeFingerIndex,o=n.fingerNumber,r=t.fingerInElement;0===e&&0===o&&r&&(k+=t.distanceX)},makeMove:function(n){function t(t){var o=Math.abs(t-k)/Math.abs(n.transDistanceY)*n.transTime;return o<500?(o=500,e=2):o>2e3&&(o=2e3),o}var e;I=n.transTime,k=B,E=k+n.transDistanceX,k>y||S>0?(E=y,O="easeOutStrong",I=d.bounce?500:n.transTime,z=!0):k<S?(E=S,O="easeOutStrong",I=d.bounce?500:n.transTime,z=!0):E<S?d.bounce?(E=S,O="backOut",I=t(S)):O="easeOutStrong":E>y&&(d.bounce?(E=y,O="backOut",I=t(y)):O="easeOutStrong"),Math.abs(n.transDistanceX)>100||z?this.wrapMove(E,I,O,e):d.scrollBar&&s(b,"opacity: 0;")},wrapMove:function(n,t,e,r){w.start({el:p,target:{translateX:n},type:e,time:t,s:r,inCallBack:function(n){k=n.translateX,d.bounce||(k>=y&&w.stop(function(n){k=y,w.transform(p,"translateX",k)}),k<=S&&w.stop(function(n){k=S,w.transform(p,"translateX",S)})),d.scrollBar&&o(-n.translateX*v),d.onTransMove.call(this,k)},endCallBack:function(n){k=n.translateX,d.onTransMoveEnd.call(this,k),d.scrollBar&&s(b,"opacity: 0;")}})},scrollTo:function(n,t,e){var o;"string"==typeof n?o=document.querySelector(n):n instanceof Element&&(o=n),o&&(l(p,o)||u("ScrollTo function argument error, `child` must be a child of `parent`"),n=-c(p,o).left),console.log(S),console.log(y),console.log(n),e&&(n<S||S>0)?n=S:e&&n>y&&(n=y),k=n,this.wrapMove(n,t,"easeOutStrong")},refreshSize:function(){g=parseFloat(a(p,"width")),h=m.clientWidth,S=h-g,y=0,S>0&&(d.scrollBar=!1),d.scrollBar&&(v=h/g,M=h*v,x=M<x?M:x,X=-y*v,T=-S*v,e(m,M))}}}}});