/*!
 * simulation-scroll-x.min.js v1.1.5
 * (c) 2017 HcySunYang
 * Released under the MIT License.
 */!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.simulationScrollX=t()}(this,function(){"use strict";return function(n){return function(t){function e(n,t){if(b)return void s(b,"width: "+t+"px;");b=document.createElement("span"),s(b,"\n                position: absolute;\n                z-index: 10000000;\n                left:0;\n                bottom: 3px;\n                height: 3px; \n                width: "+t+"px; \n                background-color: #000;\n                opacity: 0;\n                border-radius: 1.5px;\n                transition: opacity .2s;\n                -webkit-transition: opacity .2s;\n            "),"static"===a(n,"position")&&s(n,"position: relative;"),n.appendChild(b)}function o(n){var t=n,e=0;t<T?(e=4*(T-t),e>M-x&&(e=M-x),t=T):t>X&&(e=4*(t-X),e>M-x&&(e=M-x),t=X+e);var o=M-e;b.style.width=o+"px",w.transform(b,"translateX",t)}var r=t.Moved,a=t.getStyle,i=t.extend,s=t.cssText,c=t.getRelativeRect,l=t.isInElement,u=t.throwError,f=function(){},d=i({scrollBar:!0,bounce:!0,onTouchMove:f,onTransMove:f,onTransMoveEnd:f},n),p=null,m=null,h=0,v=0,g=0,b=null,M=0,x=7,y=0,S=0,T=0,X=0,w=new r,k=0,B=0,E="easeOutStrong",O=0,I=!1,z=!1;return{init:function(n){p=n.el,m=p.parentNode,"static"===a(p,"position")&&s(p,"position: relative; z-index: 10;"),this.refreshSize()},start:function(n){n.fingers[0];E="easeOutStrong",I=!1,z=!1,w.stop(function(n){k=n.translateX})},move:function(n){if("start"===w.moveStatus)return!1;var t=n.fingers[0],e=k+t.distanceX;if(!t.fingerInElement)return z||(z=!0,this.makeMove(t)),!1;e>y||S>0?e=d.bounce?.5*e:y:e<S&&(e=d.bounce?S+.5*(e-S):S),w.transform(t.el,"translateX",e),d.scrollBar&&(s(b,"opacity: .4;"),o(-e*g)),d.onTouchMove.call(this,n)},end:function(n){var t=n.fingers[0],e=n.changeFingerIndex,o=n.fingerNumber,r=t.fingerInElement;0===e&&0===o&&r&&this.makeMove(t)},cancel:function(n){var t=n.fingers[0],e=n.changeFingerIndex,o=n.fingerNumber,r=t.fingerInElement;0===e&&0===o&&r&&(k+=t.distanceX)},makeMove:function(n){function t(t){var o=Math.abs(t-k)/Math.abs(n.transDistanceY)*n.transTime;return o<500?(o=500,e=2):o>2e3&&(o=2e3),o}var e;O=n.transTime,k+=n.distanceX,B=k+n.transDistanceX,k>y||S>0?(B=y,E="easeOutStrong",O=d.bounce?500:n.transTime,I=!0):k<S?(B=S,E="easeOutStrong",O=d.bounce?500:n.transTime,I=!0):B<S?d.bounce?(B=S,E="backOut",O=t(S)):E="easeOutStrong":B>y&&(d.bounce?(B=y,E="backOut",O=t(y)):E="easeOutStrong"),Math.abs(n.transDistanceX)>100||I?this.wrapMove(B,O,E,e):d.scrollBar&&s(b,"opacity: 0;")},wrapMove:function(n,t,e,r){w.start({el:p,target:{translateX:n},type:e,time:t,s:r,inCallBack:function(n){k=n.translateX,d.bounce||(k>=y&&w.stop(function(n){k=y,w.transform(p,"translateY",k)}),k<=S&&w.stop(function(n){k=S,w.transform(p,"translateY",S)})),d.scrollBar&&o(-n.translateX*g),d.onTransMove.call(this,k)},endCallBack:function(n){k=n.translateX,d.onTransMoveEnd.call(this,k),d.scrollBar&&s(b,"opacity: 0;")}})},scrollTo:function(n,t){var e;"string"==typeof n?e=document.querySelector(n):n instanceof Element&&(e=n),e&&(l(p,e)||u("ScrollTo function argument error, `child` must be a child of `parent`"),n=-c(p,e).left),k=n,this.wrapMove(n,t,"easeOutStrong")},refreshSize:function(){h=parseFloat(a(p,"width")),v=m.clientWidth,S=v-h,y=0,S>0&&(d.scrollBar=!1),d.scrollBar&&(g=v/h,M=v*g,x=M<x?M:x,T=-y*g,X=-S*g,e(m,M))}}}}});